<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>函数库 · DoubleRFs Documentation</title><meta name="title" content="函数库 · DoubleRFs Documentation"/><meta property="og:title" content="函数库 · DoubleRFs Documentation"/><meta property="twitter:title" content="函数库 · DoubleRFs Documentation"/><meta name="description" content="Documentation for DoubleRFs Documentation."/><meta property="og:description" content="Documentation for DoubleRFs Documentation."/><meta property="twitter:description" content="Documentation for DoubleRFs Documentation."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="DoubleRFs Documentation logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">DoubleRFs Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">主页</a></li><li><a class="tocitem" href="examples.html">示例</a></li><li><a class="tocitem" href="docs.html">添加函数与文档编译</a></li><li class="is-active"><a class="tocitem" href="api.html">函数库</a><ul class="internal"><li><a class="tocitem" href="#目录"><span>目录</span></a></li><li><a class="tocitem" href="#导出函数"><span>导出函数</span></a></li><li><a class="tocitem" href="#参数结构体"><span>参数结构体</span></a></li><li><a class="tocitem" href="#Basic-Equations"><span>Basic Equations</span></a></li><li><a class="tocitem" href="#Potential-Term-in-Hamiltonian"><span>Potential Term in Hamiltonian</span></a></li><li><a class="tocitem" href="#Hamiltonian-2"><span>Hamiltonian</span></a></li><li><a class="tocitem" href="#Density-Distribution-2"><span>Density Distribution</span></a></li><li><a class="tocitem" href="#Synchrotron-Tunes"><span>Synchrotron Tunes</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="api.html">函数库</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="api.html">函数库</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/XuJingye2022/DoubleRFs.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/master/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Library"><a class="docs-heading-anchor" href="#Library">Library</a><a id="Library-1"></a><a class="docs-heading-anchor-permalink" href="#Library" title="Permalink"></a></h1><h2 id="目录"><a class="docs-heading-anchor" href="#目录">目录</a><a id="目录-1"></a><a class="docs-heading-anchor-permalink" href="#目录" title="Permalink"></a></h2><ul><li><a href="api.html#Library">Library</a></li><li class="no-marker"><ul><li><a href="api.html#目录">目录</a></li><li><a href="api.html#导出函数">导出函数</a></li><li><a href="api.html#参数结构体">参数结构体</a></li><li><a href="api.html#Basic-Equations">Basic Equations</a></li><li><a href="api.html#Potential-Term-in-Hamiltonian">Potential Term in Hamiltonian</a></li><li><a href="api.html#Hamiltonian-2">Hamiltonian</a></li><li><a href="api.html#Density-Distribution-2">Density Distribution</a></li><li><a href="api.html#Synchrotron-Tunes">Synchrotron Tunes</a></li></ul></li></ul><h2 id="导出函数"><a class="docs-heading-anchor" href="#导出函数">导出函数</a><a id="导出函数-1"></a><a class="docs-heading-anchor-permalink" href="#导出函数" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DoubleRFs.getDatas" href="#DoubleRFs.getDatas"><code>DoubleRFs.getDatas</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getDatas(nJ::Int64, nθ::Int64, times_of_σz::Float64, funψzδ, par::ParDBRF)</code></pre><p>对双高频相空间进行采样。</p><p><strong>Parameters</strong></p><p><code>nJ</code>: 径向采样点数。</p><p><code>nθ</code>: 角向采样点数。需要满足一定的公式。你输入的不合适程序会给出建议。根据经验，以<code>99</code>结尾都可以，<code>199</code>,<code>299</code>,...等等。</p><p><code>times_of_σz</code>: Sample radius from extreme point.</p><p><code>funψzδ</code>: Density distribution of <code>z</code>, <code>δ</code>.</p><p><code>par</code>: parameters of double RFs. <code>struct</code>: <code>ParDBRF</code></p><p><strong>Return</strong></p><p><code>EJ</code>: 被采样的哈密顿量。</p><p><code>JJ</code>: 与哈密顿量对应的作用量。</p><p><code>ΔJJ</code>: 采样作用量步长。这里不是简单将<code>JJ</code>相邻两个相减，因为过拉伸时，头部和尾部、尾部和外围作用量之间存在跳跃，所以需要独自计算。</p><p><code>zJθ</code>: 每个相空间采样点的<code>z</code>坐标。</p><p><code>δJθ</code>: 每个相空间采样点的<code>δ</code>坐标。</p><p><code>ϕJθ</code>: 每个相空间采样点的角变量<code>ϕ</code>坐标。</p><p><code>νsJ</code>: <code>JJ</code>处的纵向振荡工作点. 纵向工作点的定义为<code>ωs(J)/ω0</code>，其中<code>ωs(J)</code>通过正则变换<span>$\dot{\phi}=\partial H / \partial J$</span>确定。</p><p><code>ψJ</code>: 与<code>JJ</code>对应的径向密度分布.</p><p><code>nJ</code>: <code>JJ</code>的长度。返回的类型有两种，只有一个SFP时，就是<code>JJ</code>的长度；有两个SFP时，分为头部、尾部、外围的采样点长度。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/ActionAngleVlasovSolver/TMCI_Main.jl#L69-L105">source</a></section><section><div><pre><code class="language-julia hljs">getDatas(nJ::Int64, nθ::Int64, times_of_σz::Float64, zvec::Vector, ρvec::Vector, par::ParDBRF)</code></pre><p>获取双高频系统相空间采样点数据。</p><p><strong>Parameters</strong></p><p><code>nJ</code>: 径向采样点。</p><p><code>nθ</code>: 角向采样点数。因为需要考虑过拉伸一个环和两个环，角向采样点数要一致。所以这里不管欠拉伸还是过拉伸，统一要求<code>nθ</code>满足特定公式。可以先<code>number_angle_samples(nθ)=nθ</code>判断一下。根据经验，<code>199,299,399</code>都是可以的。</p><p><code>times_of_σz</code>: <code>σz</code>的倍数。</p><p><strong>Return</strong></p><p><code>EJ</code>: 被采样的哈密顿量。</p><p><code>JJ</code>: 与哈密顿量对应的作用量。</p><p><code>ΔJJ</code>: 采样作用量步长。这里不是简单将<code>JJ</code>相邻两个相减，因为过拉伸时，头部和尾部、尾部和外围作用量之间存在跳跃，所以需要独自计算。</p><p><code>zJθ</code>: 每个相空间采样点的<code>z</code>坐标。</p><p><code>δJθ</code>: 每个相空间采样点的<code>δ</code>坐标。</p><p><code>ϕJθ</code>: 每个相空间采样点的角变量<code>ϕ</code>坐标。</p><p><code>νsJ</code>: <code>JJ</code>处的纵向振荡工作点. 纵向工作点的定义为<code>ωs(J)/ω0</code>，其中<code>ωs(J)</code>通过正则变换<span>$\dot{\phi}=\partial H / \partial J$</span>确定。</p><p><code>ψJ</code>: 与<code>JJ</code>对应的径向密度分布.</p><p><code>nJ</code>: <code>JJ</code>的长度。返回的类型有两种，只有一个SFP时，就是<code>JJ</code>的长度；有两个SFP时，分为头部、尾部、外围的采样点长度。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/ActionAngleVlasovSolver/TMCI_Main.jl#L170-L202">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DoubleRFs.scanNb" href="#DoubleRFs.scanNb"><code>DoubleRFs.scanNb</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">scanNb(ratiovec, Nb, JJ, ΔJJ, ψJ, νsJ, zJθ, ΦJθ, ωvec, imp_trans, lm, par::ParDBRF)</code></pre><p>对单束团电荷数进行扫描。</p><hr/><p><strong>Parameters</strong></p><p><code>ratiovec</code>: <code>Vector</code> 需要扫描的“流强与最大流强的比例”。</p><p><code>Nb</code>: 束团电子数。</p><p><code>JJ</code>: 作用量采样点。</p><p><code>ΔJJ</code>: 采样作用量步长。之所以需要提前算，是因为过拉伸时，头部和尾部、尾部和外围作用量之间存在跳跃。</p><p><code>ψJ</code>: 与<code>JJ</code>对应的径向密度分布.</p><p><code>νsJ</code>: <code>JJ</code>处的纵向振荡工作点. 纵向工作点的定义为<code>ωs(J)/ω0</code>，其中<code>ωs(J)</code>通过正则变换<span>$\dot{\phi}=\partial H / \partial J$</span>确定。</p><p><code>zJθ</code>,<code>ΦJθ</code>: samples of <code>z</code> and angle variable. First and second dimension/index correspond to <code>J</code> and <code>θ</code>, action and angle variable samples, respectively.</p><p><code>ωvec</code>,<code>imp_trans</code>: Real ω <code>Vector</code> and complex impedance <code>Vector</code> of impedance data. Here <code>ωvec</code> should be all frequency, not just positive.</p><p><code>lm</code>: 最大角向模数.</p><p><code>par</code>: <code>ParDBRF</code>, 双高频系统参数.</p><hr/><p><strong>Return</strong></p><p><code>ratios</code>: 扫描电荷量与束团电荷量的比值<code>ratio</code>的列表。 和下面两个都能形成数值对。由于一个电荷量存在多个频率，以及多个增长率。为了保证数据配对，这里将比值相应复制了多份。</p><p><code>growthRates</code>: <code>Vector</code>. 与<code>ratios</code>对应的每秒增长率.</p><p><code>tuneShifts</code>: <code>Vector</code>. 与<code>ratios</code>对应的频移.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/ActionAngleVlasovSolver/TMCI_Main.jl#L5-L43">source</a></section></article><h2 id="参数结构体"><a class="docs-heading-anchor" href="#参数结构体">参数结构体</a><a id="参数结构体-1"></a><a class="docs-heading-anchor-permalink" href="#参数结构体" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DoubleRFs.ParDBRF" href="#DoubleRFs.ParDBRF"><code>DoubleRFs.ParDBRF</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ParDBRF(v1, r, ϕs, ϕ2s, h1, h, circum, centerenergy, αc, ξ, νy, σδ)::ParDBRF</code></pre><p>为了避免反复输入很多参数，将双高频系统和环的参数塞进统一结构体。</p><p>Parameters:</p><p><code>v1</code>: 主腔电压，单位[V]</p><p><code>r</code>: 高频腔和主腔电压之比，单位[1]</p><p><code>ϕs</code>: 主腔相位，单位[rad]</p><p><code>ϕ2s</code>: 高频腔相位，单位[rad]</p><p><code>h1</code>: 主腔周期数，单位[1]</p><p><code>h</code>: 高频腔周期数，单位[1]</p><p><code>circum</code>: 轨迹周期，单位[m]</p><p><code>centerenergy</code>: 质子中心能量，单位[eV]</p><p><code>αc</code>: 质子中心能量对应的相对论因子</p><p><code>ξ</code>: 质子中心能量对应的相对论因子</p><p><code>νy</code>: 横向振荡工作点，即，单位[1]</p><p><code>σδ</code>: 束团能散</p><p>Return:</p><p>参数结构体<code>ParDBRF</code>，函数和结构体同名，是利用了多重分派特性。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/DoubleRFs.jl#L63-L97">source</a></section></article><h2 id="Basic-Equations"><a class="docs-heading-anchor" href="#Basic-Equations">Basic Equations</a><a id="Basic-Equations-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Equations" title="Permalink"></a></h2><h3 id="电压"><a class="docs-heading-anchor" href="#电压">电压</a><a id="电压-1"></a><a class="docs-heading-anchor-permalink" href="#电压" title="Permalink"></a></h3><p>The total voltage is:</p><p class="math-container">\[V_{tot}(z) =V_1 \mathcal{V}(z) - 4 \pi \epsilon_0 N_b e \int_z^\infty dz&#39; \rho(z&#39;) W_0&#39;(z-z&#39;),\]</p><p>where</p><p class="math-container">\[\mathcal{V}(z)=\sin{\left( \phi_s-\dfrac{2h_1\pi}{C}z \right)}-\sin{\phi_s}+r\sin{\left[\phi_{2s}-\dfrac{2h_1 h \pi}{C}z \right]}-r\sin{\phi_{2s}}\]</p><p>, called <code>normed voltage</code>. The first term of RHS of <span>$V_{tot}(z)$</span> is cavity voltage and second term is wake voltage.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DoubleRFs.getCavityVoltage" href="#DoubleRFs.getCavityVoltage"><code>DoubleRFs.getCavityVoltage</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-text hljs">getCavityVoltage(z, v1, r, ϕs, ϕ2s, h1, h, circum)</code></pre><p>双高频腔压。</p><p><code>z</code>: <code>Float64</code>. 相对于参考粒子的纵向位置。<span>$z&gt;0$</span>表示头部。单位[m]。</p><p><code>v1</code>: <code>Float64</code>. 主腔腔压。单位[V]。</p><p><code>r</code>: <code>Float64</code>. 高频腔和主腔电压之比。</p><p><code>ϕs</code>: <code>Float64</code>。主腔相位。单位[rad]。</p><p><code>ϕ2s</code>: <code>Float64</code>。高频腔相位。单位[rad]。</p><p><code>h1</code>: <code>Int64</code>。主腔谐波数，为主腔频率<span>$\omega_\text{Primary}$</span>与回旋频率<span>$\omega_0$</span>的比值<span>$h_1 = \omega_\text{Primary}/\omega_0$</span>。</p><p><code>h</code>: <code>Int64</code>. 高频腔和主腔谐波数之比。</p><p><code>circum</code>: <code>Float64</code>. 储存环周长。单位[m]。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/Voltage.jl#L1-L23">source</a></section><section><div><pre><code class="language-text hljs">getCavityVoltage(z, par::ParDBRF)</code></pre><p>双高频腔压。</p><p><code>z</code>: <code>Float64</code>. 相对于参考粒子的纵向位置。<span>$z&gt;0$</span>表示头部。单位[m]。</p><p><code>par</code>: <code>ParDBRF</code>. 打包的参数结构体，不过<code>ParDBRF</code>中打包的参数比这里需要的参数多，详情见<code>ParDBRF</code>。如果没有那么多参数的话，还是用另一个版本吧。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/Voltage.jl#L28-L38">source</a></section></article><h3 id="电压导数"><a class="docs-heading-anchor" href="#电压导数">电压导数</a><a id="电压导数-1"></a><a class="docs-heading-anchor-permalink" href="#电压导数" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DoubleRFs.∇normedVoltage" href="#DoubleRFs.∇normedVoltage"><code>DoubleRFs.∇normedVoltage</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">∇normedVoltage(z, ϕs::Float64, ϕ2s::Float64, r::Float64, h1::Int64, h::Int64, circum::Float64)::Float64</code></pre><p>归一化电压的1阶导数。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/DoubleRFs.jl#L232-L236">source</a></section><section><div><pre><code class="language-julia hljs">∇normedVoltage(z, par::ParDBRF)::Float64</code></pre><p>归一化电压的1阶导数。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/DoubleRFs.jl#L241-L245">source</a></section></article><h3 id="Hamiltonian"><a class="docs-heading-anchor" href="#Hamiltonian">Hamiltonian</a><a id="Hamiltonian-1"></a><a class="docs-heading-anchor-permalink" href="#Hamiltonian" title="Permalink"></a></h3><p>我们这里采取的哈密顿量形式为：</p><p class="math-container">\[H(z,\delta;s)=-\dfrac{\eta_p}{2}\delta^2-\dfrac{eV_1}{2\pi h_1 E}\mathcal{P}(z)+\dfrac{4 \pi \epsilon_0 N_0 r_e}{\gamma C}\int_{0}^{z}dz&#39;&#39; \int_{z&#39;&#39;}^\infty dz&#39; \rho(z&#39;) W_0&#39;(z&#39;&#39;-z&#39;),\]</p><p>这里：</p><p class="math-container">\[\mathcal{P}(z)= \cos{\left( \phi_s - \dfrac{2 \pi h_1}{C}z \right)}+\dfrac{r}{h} \cos{\left( \phi_{2s}-\dfrac{2\pi h_2}{C}z \right)}+\left(-\dfrac{2\pi h_1}{C}z\right)\left(\sin{\phi_s}+r\sin{\phi_{2s}}\right)-\cos{\phi_s}-\dfrac{r}{h}\cos{\phi_{2s}},\]</p><p>the second and the last term in RHS of <span>$H(z,\delta;s)$</span> is our &quot;cavity potential&quot; and &quot;wake potential&quot;.(see <code>getPotenCavity</code> and <code>getPotenWake</code>)</p><p>The Hamiltonian with this form <span>$H(z, \delta; s)$</span> looks like an inverted bowl.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DoubleRFs.hamiltonian" href="#DoubleRFs.hamiltonian"><code>DoubleRFs.hamiltonian</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Hamiltonian(z::Float64, δ::Float64, v1, r::Float64, ϕs::Float64, ϕ2s::Float64, η::Float64, h1::Int64, h::Int64, circum::Float64, centerenergy::Float64)</code></pre><p>Get Hamiltonian with harmonic cavity but without wake.</p><p>Hamiltonian here has the form: <span>$H=H(z,δ;s)$</span>.</p><p><strong>Parameters</strong></p><p><code>z</code>: <span>$z=s-ct$</span>. <span>$z&gt;0$</span> is the head of the bunch.</p><p><code>δ</code>:</p><p><code>v1</code>:</p><p><code>r</code>:</p><p><code>ϕs</code>:</p><p><code>ϕ2s</code>:</p><p><code>ηp</code>:</p><p><code>h1</code>: Defaut value is <code>756</code>, parmeter of HEPS.</p><p><code>h</code>: Defaut value is <code>3</code>, parmeter of HEPS.</p><p><code>centerenergy</code>: Defaut value is <code>6e9</code>, parmeter of HEPS.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/Hamiltonian.jl#L4-L34">source</a></section><section><div><pre><code class="language-julia hljs">hamiltonian(z::Float64, δ::Float64, par::ParDBRF)</code></pre><p>哈密顿量</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/Hamiltonian.jl#L38-L42">source</a></section><section><div><p>Get Hamiltonian with harmonic cavity but without wake.</p><p>Hamiltonian here has the form: <span>$H=H(z,δ;s)$</span>.</p><p><strong>Parameters</strong></p><p><code>z</code><code>:</code><code>z=s-ct</code><code>.</code><code>z&gt;0</code>` is the head of the bunch.</p><p><code>δ</code>:</p><p><code>v1</code>:</p><p><code>r</code>:</p><p><code>ϕs</code>:</p><p><code>ϕ2s</code>:</p><p><code>funWakePoten</code>: Wake potential function. Type of <code>Interpolations.Extrapolation</code> or <code>Function</code>.</p><p><code>ηp</code>:</p><p><code>h1</code>: Defaut value is <code>756</code>, parmeter of HEPS.</p><p><code>h</code>: Defaut value is <code>3</code>, parmeter of HEPS.</p><p><code>centerenergy</code>: Defaut value is <code>6e9</code>, parmeter of HEPS.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/Hamiltonian.jl#L51-L80">source</a></section></article><h3 id="Density-Distribution"><a class="docs-heading-anchor" href="#Density-Distribution">Density Distribution</a><a id="Density-Distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Density-Distribution" title="Permalink"></a></h3><p>容易发现，</p><p class="math-container">\[\exp{\left( \frac{H(z, \delta; s)}{\eta_p \sigma_\delta^2} \right)}\]</p><p>关于<span>$\delta$</span>是纯高斯的。这很符合一种称为Haissinski分布。分解去<span>$\delta$</span>剩下的关于<span>$z$</span>的就是纵向分布<span>$\rho(z)$</span>。</p><h2 id="Potential-Term-in-Hamiltonian"><a class="docs-heading-anchor" href="#Potential-Term-in-Hamiltonian">Potential Term in Hamiltonian</a><a id="Potential-Term-in-Hamiltonian-1"></a><a class="docs-heading-anchor-permalink" href="#Potential-Term-in-Hamiltonian" title="Permalink"></a></h2><h2 id="Hamiltonian-2"><a class="docs-heading-anchor" href="#Hamiltonian-2">Hamiltonian</a><a class="docs-heading-anchor-permalink" href="#Hamiltonian-2" title="Permalink"></a></h2><h2 id="Density-Distribution-2"><a class="docs-heading-anchor" href="#Density-Distribution-2">Density Distribution</a><a class="docs-heading-anchor-permalink" href="#Density-Distribution-2" title="Permalink"></a></h2><h2 id="Synchrotron-Tunes"><a class="docs-heading-anchor" href="#Synchrotron-Tunes">Synchrotron Tunes</a><a id="Synchrotron-Tunes-1"></a><a class="docs-heading-anchor-permalink" href="#Synchrotron-Tunes" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DoubleRFs.getBucketBounds" href="#DoubleRFs.getBucketBounds"><code>DoubleRFs.getBucketBounds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getBucketBounds(ϕs, ϕ2s, v1, r, h1, h, circum, centerenergy, αc; tol = 1.0e-12, max_try_time = 50)</code></pre><p>计算相稳定区边界</p><hr/><p><strong>Parameters</strong></p><p><code>ϕ2</code>: 参考粒子主腔相位。单位弧度。</p><p><code>ϕ2s</code>: 参考粒子谐波腔相位。单位弧度。</p><p><code>v1</code>: 主腔电压。</p><p><code>r</code>: 谐波腔与主腔电压之比。</p><p><code>h1</code>: 主腔的谐波数.</p><p><code>h</code>: 两个腔谐波数之比.</p><p><code>circum</code>: 储存环周长.</p><p><code>centerenergy</code>: 参考粒子能量.</p><p><code>αc</code>: 动量压缩因子.</p><p><strong>Return</strong></p><p><code>zL,zR</code>: bucket的上下限。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/FixedPoints.jl#L210-L240">source</a></section><section><div><pre><code class="language-julia hljs">getBucketBounds(par::ParDBRF; tol = 1.0e-12, max_try_time = 50)</code></pre><p>计算相稳定区边界</p><hr/><p><strong>Parameters</strong></p><p><code>par</code>: <code>ParDBRF</code>。包含加速器与双高频系统参数的参数结构体。</p><p><strong>Return</strong></p><p><code>zL,zR</code>: bucket的上下限。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/XuJingye2022/DoubleRFs.jl/blob/d0742d83891b614c8238acc41879cd4608e32280/src/FixedPoints.jl#L251-L265">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="docs.html">« 添加函数与文档编译</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Tuesday 10 September 2024 21:18">Tuesday 10 September 2024</span>. Using Julia version 1.10.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
